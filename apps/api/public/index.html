<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Color Chat Survey</title>
</head>
<body>
  <h1>Color Chat Survey</h1>
  <form id="chatRequestForm">
    <label for="user_name">이름을 입력해주세요:</label>
    <input type="text" id="user_name" name="user_name" required><br><br>

    <label for="age">만 나이를 알려주세요:</label>
    <input type="number" id="age" name="age" required><br><br>

    <label for="season">가장 좋아하는 계절은 언제인가요?:</label>
    <select id="season" name="season" required>
      <option value="SPRING">봄</option>
      <option value="SUMMER">여름</option>
      <option value="FALL">가을</option>
      <option value="WINTER">겨울</option>
    </select><br><br>

    <label for="personality_type1">나의 성격을 가장 잘 나타낼 수 있는 단어 3가지를 골라주세요:</label>
    <select id="personality_type1" name="personality_type1" required>
        <option value="ACTIVE">활발한</option>
        <option value="BRAVE">용감한</option>
        <option value="CALM">차분한</option>
        <option value="CAUTIOUS">신중한</option>
        <option value="CREATIVE">창의적</option>
        <option value="DILIGENT">성실한</option>
        <option value="HONEST">정직한</option>
        <option value="METICULOUS">꼼꼼한</option>
        <option value="OPTIMISTIC">낙천적</option>
        <option value="PASSIONATE">열정적</option>
        <option value="QUIET">조용한</option>
        <option value="SOCIABLE">사교적</option>
        <option value="STRONG">강인한</option>
    </select><br><br>

    <label for="personality_type2">나의 성격을 가장 잘 나타낼 수 있는 단어 3가지를 골라주세요:</label>
    <select id="personality_type2" name="personality_type2" required>
        <option value="ACTIVE">활발한</option>
        <option value="BRAVE">용감한</option>
        <option value="CALM">차분한</option>
        <option value="CAUTIOUS">신중한</option>
        <option value="CREATIVE">창의적</option>
        <option value="DILIGENT">성실한</option>
        <option value="HONEST">정직한</option>
        <option value="METICULOUS">꼼꼼한</option>
        <option value="OPTIMISTIC">낙천적</option>
        <option value="PASSIONATE">열정적</option>
        <option value="QUIET">조용한</option>
        <option value="SOCIABLE">사교적</option>
        <option value="STRONG">강인한</option>
    </select><br><br>

    <label for="personality_type3">나의 성격을 가장 잘 나타낼 수 있는 단어 3가지를 골라주세요:</label>
    <select id="personality_type3" name="personality_type3" required>
        <option value="ACTIVE">활발한</option>
        <option value="BRAVE">용감한</option>
        <option value="CALM">차분한</option>
        <option value="CAUTIOUS">신중한</option>
        <option value="CREATIVE">창의적</option>
        <option value="DILIGENT">성실한</option>
        <option value="HONEST">정직한</option>
        <option value="METICULOUS">꼼꼼한</option>
        <option value="OPTIMISTIC">낙천적</option>
        <option value="PASSIONATE">열정적</option>
        <option value="QUIET">조용한</option>
        <option value="SOCIABLE">사교적</option>
        <option value="STRONG">강인한</option>
    </select><br><br>

    <label for="Decision_type">결정을 내릴 때 가장 우선시 되는 기준은 무엇인가요?:</label>
    <select id="Decision_type" name="Decision_type" required>
      <option value="EMOTION">감정</option>
      <option value="EXPERIENCE">경험</option>
      <option value="INTUITION">직관</option>
      <option value="LOGIC">논리</option>
    </select><br><br>

    <label for="travel_type">여행을 갈때 가장 중요하게 생각하는 것은 무엇인가요?:</label>
    <select id="travel_type" name="travel_type" required>
        <option value="ATMOSPHERE_RELAXATION">분위기와 휴식</option>
        <option value="CLIMATE_HYGIENE">기후나 위생환경</option>
        <option value="COMFORT">편안함</option>
        <option value="COST_BUDGET">여행 비용과 예산</option>
        <option value="NEW_EXPERIENCES">새로운 경험과 활동</option>        
    </select><br><br>

    <label for="happy_moment">일상에서 가장 행복함을 느끼는 순간은 언제인가요?:</label>
    <input type="text" id="happy_moment" name="happy_moment" required><br><br>

    <label for="wakeup_morning">일상에서 가장 행복함을 느끼는 순간은 언제인가요?:</label>
    <input type="text" id="wakeup_morning" name="wakeup_morning" required><br><br>

    <label for="hobby">당신이 가장 즐겨하는 취미활동은 무엇인가요?:</label>
    <input type="text" id="hobby" name="hobby" required><br><br>

    <button type="submit">Submit</button>

    <div id="responseMessage"></div>
  </form>
  

  <script>
    document.getElementById('chatRequestForm').addEventListener('submit', async function(event) {
      event.preventDefault();
      
      const formData = new FormData(event.target);
      const formObject = {};
      formData.forEach((value, key) => {
        formObject[key] = value;
      });

      try {
        const response = await fetch('/color-chat/chat', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(formObject)
        });
        
        const result = await response.json();
        console.log('Response:', result[0]);
        // Handle the response as needed
        document.getElementById('responseMessage').innerText = JSON.stringify(result);;
      } catch (error) {
        console.error('Error:', error);
      }
    });
  </script>
</body>
</html>
